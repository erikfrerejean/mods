<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<?xml-stylesheet type="text/xsl" href="./modx.prosilver.en.xsl"?>
<!--
	For security purposes, please check: http://www.phpbb.com/mods/
	for the latest version of this MOD. Although MODs are checked
	before being allowed in the MODs Database there is no guarantee
	that there are no security problems within the MOD. No support
	will be given for MODs not found within the MODs Database which
	can be found at http://www.phpbb.com/mods/
-->
<mod xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.phpbb.com/mods/xml/modx-1.2.5.xsd">
	<header>
		<license>http://opensource.org/licenses/gpl-license.php GNU General Public License v2</license>

		<title lang="en">Subject Prefix</title>

		<description lang="en">A MOD that allows users to easily give topics a subject prefix. This may be through a dropdown menu, radio boxes, a custom text input field, etc where a user can select the appropriate option and have it appended to the front of the topic title. </description>

		<author-notes lang="en">This MOD is part of the MOD teams "Summer of MODs".
Please note that this MOD requires at least php 5.1.0 to run.</author-notes>

		<author-group>
			<author>
				<realname>Erik Frèrejean</realname>
				<username>Erik Frèrejean</username>
				<homepage>http://www.erikfrerejean.nl</homepage>
				<contributions-group>
					<contributions status="current" from="2010-05-19" position="Developer" />
				</contributions-group>
			</author>
		</author-group>

		<mod-version>1.0.0-rc1</mod-version>

		<installation>
			<level>easy</level>
			<time>160</time>
			<target-version>3.0.7-PL1</target-version>
		</installation>

		<history>
			<entry>
				<date>2010-05-00</date>
				<rev-version>1.0.0-rc1</rev-version>
				<changelog lang="en">
					<change>[Change] Increased minimum requirements to php 5.1.0.</change>
					<change>[Change] Some small speed improvements.</change>
					<change>[Change] Unified permission names.</change>
				</changelog>
			</entry>
			<entry>
				<date>2010-05-28</date>
				<rev-version>1.0.0-a2</rev-version>
				<changelog lang="en">
					<change>[Add] User based permission.</change>
					<change>[Add] A quick change box for moderators to change the topic prefix.</change>
					<change>[Add] Full SubSilver2 support.</change>
					<change>[Change] Don't move prefixes to forums where this prefix can't be used.</change>
					<change>[Fix] Added missing prefix support in viewtopic print.</change>
				</changelog>
			</entry>
			<entry>
				<date>2010-05-20</date>
				<rev-version>1.0.0-a1</rev-version>
				<changelog lang="en">
					<change>First Alpha release</change>
				</changelog>
			</entry>
		</history>

		<link-group>
			<link type="parent" realname="Subject Prefix install file" href="../subject_prefix_install.xml" lang="en">Main install file</link>
		</link-group>
	</header>

	<action-group>
		<open src="styles/subsilver2/template/posting_body.html">
			<edit>
				<find><![CDATA[<tr>
		<td class="row1" width="22%"><b class="genmed">{L_SUBJECT}:</b></td>]]></find>
				<action type="before-add"><![CDATA[<!-- IF SUBJECT_PREFIX_DROPDOWN_OPTIONS -->
	 <tr>
		<td class="row1" width="22%"><b class="genmed">{L_ACP_SUBJECT_PREFIX}</b></td>
		<td class="row2" width="78%"><select name="prefixes" id="prefixes">{SUBJECT_PREFIX_DROPDOWN_OPTIONS}</select></td>
	</tr>
	<!-- ENDIF -->]]></action>
			</edit>
		</open>

		<open src="styles/subsilver2/template/viewforum_body.html">
			<edit>
				<find><![CDATA[{topicrow.ATTACH_ICON_IMG} <!-- IF topicrow.S_HAS_POLL or topicrow.S_TOPIC_MOVED --><b>]]></find>
				<inline-edit>
					<inline-find><![CDATA[<a title="{L_POSTED}:]]></inline-find>
					<inline-action type="before-add"><![CDATA[<!-- IF topicrow.SUBJECT_PREFIX_TITLE --><b class="topictitle"<!-- IF topicrow.SUBJECT_PREFIX_COLOUR --> style="color: #{topicrow.SUBJECT_PREFIX_COLOUR};"<!-- ENDIF -->>{topicrow.SUBJECT_PREFIX_TITLE}</b> <!-- ENDIF -->]]></inline-action>
				</inline-edit>
			</edit>
			<edit>
				<find><![CDATA[{topicrow.ATTACH_ICON_IMG} <!-- IF topicrow.S_HAS_POLL or topicrow.S_TOPIC_MOVED --><b>]]></find>
				<inline-edit>
					<inline-find><![CDATA[<a title="{L_POSTED}:]]></inline-find>
					<inline-action type="before-add"><![CDATA[<!-- IF topicrow.SUBJECT_PREFIX_TITLE --><b class="topictitle"<!-- IF topicrow.SUBJECT_PREFIX_COLOUR --> style="color: #{topicrow.SUBJECT_PREFIX_COLOUR};"<!-- ENDIF -->>{topicrow.SUBJECT_PREFIX_TITLE}</b> <!-- ENDIF -->]]></inline-action>
				</inline-edit>
			</edit>
		</open>

		<open src="styles/subsilver2/template/viewtopic_body.html">
			<edit>
				<find><![CDATA[<h2><a class="titles" href="{U_VIEW_TOPIC}">{TOPIC_TITLE}</a></h2>]]></find>
				<inline-edit>
					<inline-find><![CDATA[<h2>]]></inline-find>
					<inline-action type="after-add"><![CDATA[<!-- IF SUBJECT_PREFIX_TITLE --><span class="titles"<!-- IF SUBJECT_PREFIX_COLOUR --> style="color: #{SUBJECT_PREFIX_COLOUR};"<!-- ENDIF -->>{SUBJECT_PREFIX_TITLE}</span> <!-- ENDIF -->]]></inline-action>
				</inline-edit>
			</edit>
		</open>

		<open src="styles/subsilver2/template/viewtopic_print.html">
			<edit>
				<find><![CDATA[<td><span class="topic">{TOPIC_TITLE}</span><br /><span class="gensmall"><a href="{U_TOPIC}">{U_TOPIC}</a></span></td>]]></find>
				<inline-edit>
					<inline-find><![CDATA[{TOPIC_TITLE}]]></inline-find>
					<inline-action type="before-add"><![CDATA[<!-- IF SUBJECT_PREFIX_TITLE -->{SUBJECT_PREFIX_TITLE} <!-- ENDIF -->]]></inline-action>
				</inline-edit>
			</edit>
		</open>
	</action-group>
</mod>